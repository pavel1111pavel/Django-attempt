{% extends 'base.html' %}
{% load static %}
{% block title %}О нас{% endblock %}

{% block content %}

<section id="about">
  <div class="block">
    <h2>О нас</h2>
    <p>Здесь можно добавить описание о вашей компании или проекте.</p>
  </div>

  <section class="interactive-blocks">
    <div class="interactive-block">
      <img src="{% static 'images/photo1.png' %}" alt="Фото 1">
      <h3>Заголовок 1</h3>
      <p>Описание или дополнительная информация о фото или блоке.</p>
    </div>

    <div class="interactive-block">
      <img src="{% static 'images/photo2.png' %}" alt="Фото 2">
      <h3>Заголовок 2</h3>
      <p>Описание или дополнительная информация о фото или блоке.</p>
    </div>

    <div class="interactive-block">
      <img src="{% static 'images/photo3.png' %}" alt="Фото 3">
      <h3>Заголовок 3</h3>
      <p>Описание или дополнительная информация о фото или блоке.</p>
    </div>

    <div class="interactive-block">
      <img src="{% static 'images/photo3.png' %}" alt="Фото 3">
      <h3>Заголовок 3</h3>
      <p>Описание или дополнительная информация о фото или блоке.</p>
    </div>

    <div class="interactive-block">
      <img src="{% static 'images/photo3.png' %}" alt="Фото 3">
      <h3>Заголовок 3</h3>
      <p>Описание или дополнительная информация о фото или блоке.</p>
    </div>
  </section>
</section>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
  // Получаем все интерактивные блоки
  const interactiveBlocks = $('.interactive-block');

  // Функция для показа блоков с задержкой
  function showBlocks() {
    interactiveBlocks.each(function(index, block) {
      const windowHeight = $(window).height();
      const blockTop = $(block).offset().top;

    // Вычисляем долю, насколько близко блок к верхней трети окна
      const visibilityFactor = (blockTop - windowHeight) / (windowHeight / 3);

    // Вычисляем задержку в миллисекундах
      const delay = visibilityFactor * 2000;

    // Показываем блок с задержкой
      setTimeout(function() {
       $(block).addClass('show'); // Updated class name to 'show'
    }, delay);
  });
}


  // Вызываем функцию показа блоков после заданной задержки (например, через 2 секунды)
  setTimeout(showBlocks, 2000);

  // Функция для показа блоков при прокрутке
  function showBlocksOnScroll() {
    interactiveBlocks.each(function(index, block) {
      const windowHeight = $(window).height();
      const blockTop = $(block).offset().top;

      // Проверяем, видим ли блок в окне браузера
      if (blockTop < windowHeight) {
        $(block).addClass('fade-in');
      }
    });
  }

  // Вызываем функцию показа блоков при загрузке страницы
  showBlocksOnScroll();

  // Вызываем функцию показа блоков при прокрутке страницы
  $(window).scroll(showBlocksOnScroll);
});

</script>
{% endblock %}
